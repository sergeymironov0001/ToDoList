<div id="add-task" ng-controller="addTaskController" class="border">
    <form ng-submit="addTask()">
        <div class="form-group col-sm-7">
            <label class="h4" for="name">Task:</label>
            <input id="name" type="text" class="form-control" ng-model="newTask.name"/>
        </div>
        <div class="form-group col-sm-1" style="min-width: 90px;">
            <label class="h4" for="priority">Priority:</label>
            <select id="priority" class="form-control" ng-model="newTask.priority"
                    ng-options="priority as priority for priority in priorities()"
                    ng-init="selected=defaultPriority()"></select>
        </div>
        <div class="form-group col-sm-3">
            <label class="h4" for="endDate">End Date:</label>

            <div style="width: 270px;">
                <datepicker id="endDate"
                            ng-model="newTask.endDate" class="well well-sm"
                            show-weeks="false"
                            custom-class="getDayClass(date, mode)"
                            style="margin-bottom: 0; width: 270px;"></datepicker>
            </div>
        </div>
        <div class="form-group col-sm-1" style="min-width: 95px;">
            <div class="empty-row"/>
            <button class="btn bg-primary col-sm-12" ng-disabled="!isNewTaskCorrect()" type="submit">+</button>
        </div>
    </form>
</div>

<div ng-controller="outputTasksController" class="border" style="clear:both;">
    <div class="btn-group col-sm-3" style="min-width: 290px;">
        <label class="btn btn-primary col-sm-6" ng-model="activeTaskFilter" ng-model-options="{ getterSetter: true }"
               btn-checkbox>Active</label>
        <label class="btn btn-primary col-sm-6" ng-model="completedTaskFilter" ng-model-options="{ getterSetter: true }"
               btn-checkbox>Completed</label>
    </div>

    <div class="col-sm-12 top-buffer">
        <table class="table table-bordered">
            <thead>
            <tr>
                <th>
                    <a href="" ng-click="order('name')">Task</a>
                    <span class="glyphicon sort-icon" ng-show="isOrderBy('name')"
                          ng-class="{'glyphicon-chevron-up':isReverseSorting(),'glyphicon-chevron-down':!isReverseSorting()}"></span>
                </th>

                <th>
                    <a href="" ng-click="order('priority')">Priority</a>
                    <span class="glyphicon sort-icon" ng-show="isOrderBy('priority')"
                          ng-class="{'glyphicon-chevron-up':isReverseSorting(),'glyphicon-chevron-down':!isReverseSorting()}"></span>
                </th>
                <th>
                    <a href="" ng-click="order('endDate')">End Date</a>
                    <span class="glyphicon sort-icon" ng-show="isOrderBy('endDate')"
                          ng-class="{'glyphicon-chevron-up':isReverseSorting(),'glyphicon-chevron-down':!isReverseSorting()}"></span>
                </th>
                <th></th>
            </tr>
            </thead>
            <tr ng-hide="getTasks().length">
                <td class="text-center" colspan="4">Have no tasks yet...</td>
            </tr>
            <tr ng-repeat="task in getTasks() | filter:getTasksFilterArguments() | orderBy:getSortingFiled():isReverseSorting()"
                ng-dblclick="openTaskDetailsModalDialog()"
                ng-click="selectTask(task)"
                ng-class="{'selected':isTaskSelected(task)}">
                <td>{{task.name}}</td>
                <td class="span"> {{task.priority}}</td>
                <td class="span2"> {{task.endDate | date: 'dd/MM/yyyy'}}</td>
                <td class="span1"><input class="checkbox" type="checkbox" ng-model="task.isCompleted"/></td>
            </tr>
        </table>
    </div>
</div>
